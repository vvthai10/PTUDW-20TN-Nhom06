<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="./assets/images/logo.png"
      rel="shortcut icon"
      type="image/x-icon"
    />
    <title>News & World | Business</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="./assets/css/index.css" />
  </head>

  <body>
    <div class="form__sign-in-up" id="#signin">
      <div class="form__container">
        <div class="row" style="margin: 0 0">
          <div class="col-6 form__container-left">
            <span class="form__name">Đăng nhập</span>
            <form id="form__signin" >
              <div class="form__input-box">
                <input
                  type="text"
                  class="form__input"
                  placeholder="Số điện thoại/Email"
                  name="username"
                  required
                />
              </div>
              <div class="form__input-box">
                <input
                  type="password"
                  class="form__input"
                  placeholder="Mật khẩu"
                  name="password"
                  required
                />
              </div>
              <div class="form__action">
                <div class="form__save-sign-in">
                  <input type="checkbox" name="remember" />
                  <span>Duy trì đăng nhập</span>
                </div>
                <a href="./forgot_password.html" class="form__forgot-password"
                  >Quên mật khẩu</a
                >
              </div>

              <button type="submit" class="form__btn" id="btn_login">Đăng nhập</button>
            </form>

            <span class="form__sign-in-up-another-title"
              >Đăng nhập bằng các tài khoản sau</span
            >
            <div class="form__sign-in-up-another-btn">
              <i class="bi bi-google google"></i>
              <i class="bi bi-facebook facebook"></i>
              <i class="bi bi-apple apple"></i>
            </div>
            <span class="form__sign-in-up-signin"
              >Chưa có tài khoản?<a href="./signup.html"
                >Đăng kí tài khoản</a
              ></span
            >
          </div>
          <div class="col-6 form__container-right">
            <img
              src="./assets/images/background-form.png"
              alt="background-form"
            />
            <span style="line-height: 20px;
            font-size: 12px;
            font-weight: 600;">Lưu ý: các tài khoản demo để vào các chức năng quản lý</span>
            <ul style="font-size: 12px">
              <li style="margin-top: 10px;
              font-weight: 600;
          ">Tên đăng nhập <span style="    padding-left: 59px;">| Mật khẩu</span></li>
              <li>Admin: admin@gmail.com <span>| 123456</span></li>
              <li>Editor: editor@gmail.com <span style="padding-left: 5px;">| 123456</span></li>
              <li>Writer: writer@gmail.com <span style="padding-left: 5px;">| 123456</span></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
      integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
      crossorigin="anonymous"
    ></script>
    <script src="./assets/js/index.js"></script>
    <script>
      const listUser = [
        {
          userType: "admin",
          userName: "admin@gmail.com",
          password: "123456" 
        },
        {
          userType: "editor",
          userName: "editor@gmail.com",
          password: "123456" 
        },
        {
          userType: "writer",
          userName: "writer@gmail.com",
          password: "123456" 
        },
        {
          userType: "subscriber",
          userName: "subscriber@gmail.com",
          password: "123456" 
        }
      ]
      const form = document.querySelector('#form__signin');
      const submitBtn = document.querySelector('#btn_login');

      form.addEventListener('submit', (event) => {
        // prevent form submission
        event.preventDefault();
        // get all the input elements inside the form
        const inputs = form.querySelectorAll('input');
        
        let name, password;
        // loop through the inputs and get their values
        inputs.forEach((input) => {
          if(input.name === "username"){
            name = input.value
          }
          else if(input.name === "password"){
            password = input.value
          }
        });
        
        listUser.forEach(user => {
          if(user.userName.trim() === name && user.password === password){
            if(user.userType === "admin"){
              window.location.href = './admin.html';
            }
            else if(user.userType === "editor"){
              window.location.href = './editor_censor.html';
            }
            else if(user.userType === "writer"){
              window.location.href = './writer.html';
            }
          }
        })
      });
    </script>
  </body>
</html>
